<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Constructors</title>
</head>
<body>
  <div class="wrap"></div>
  <script>
  /*

    Задание:

    Написать функцию конструктор, которая будет иметь приватные и публичные свойства.
    Публичные методы должны вызывать приватные.

    Рассмотрим на примере планеты:

      - На вход принимаются параметр Имя планеты.

      Создается новый обьект, который имеет публичные методы и свойства:
      - name (передается через конструктор)
      - population ( randomPopulation());
      - rotatePlanet(){
        let randomNumber = Math.floor(Math.random() * (1000 - 1 + 1)) + 1;
        if ( (randomNumber % 2) == 0) {
          growPopulation();
        } else {
          Cataclysm();
        }
      }

      Приватное свойство:
      populationMultiplyRate - случайное число от 1 до 10;

      Приватные методы
      randomPopulation -> Возвращает случайное целое число от 1.000 до 10.000
      growPopulation() {
        функция которая берет приватное свойство populationMultiplyRate
        которое равняется случайному числу от 1 до 10 и умножает его на 100.
        Дальше, число которое вышло добавляет к популяции и выводит в консоль сообщение,
        что за один цикл прибавилось столько населения на планете .
      }
      Cataclysm(){
        Рандомим число от 1 до 10 и умножаем его на 1000;
        То число которое получили, отнимаем от популяции.
        В консоль выводим сообщение - от катаклизма погибло Х человек на планете.
      }

  */


   function getRandom(min, max) {
      min = Math.ceil(min);
      max = Math.floor(max);
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }



  function generateMyObject( name ){
    this.name = name;
   	let  populationMultiplyRate = getRandom(1,10);
    let  randomPopulation = () => {
      return getRandom(1000,10000);
    }
    let growPopulation = () => {
    	return console.log(`За один цикл прибавилось ${(populationMultiplyRate*100) + (randomPopulation())} населения на планете ${this.name}`) 
    }

    let Cataclysm = () => {
    	let a = randomPopulation();    		
    	let b = (getRandom(1,10)*1000);
    		// console.log("популяція = " + a);
    		// console.log("мінус радномне число = " +  b);
    		// console.log("різниця між a та b = " +  (a-b));
    	if (a<b){
    		return console.log(`От катаклизма погибло все население на планете ${this.name}`) ;
    		
    	}
    	else if (a>b){    		
    		return console.log(`От катаклизма погибло ${a - b } человек на планете ${this.name}`) ;

    	}
    }


	this.rotatePlanet = ()=>{
        let randomNumber = Math.floor(Math.random() * (1000 - 1 + 1)) + 1;
        if ( (randomNumber % 2) == 0) {
          growPopulation();
        } else {
          Cataclysm();
        }
      }
  }

  var obj = new generateMyObject('Земля');
  obj.rotatePlanet();
  </script>
</body>
</html>
